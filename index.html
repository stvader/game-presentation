<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Viking Invasion</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/blood.css">
		<!-- <link rel="stylesheet" href="css/highlight/default.css"> -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="css/style.css">

		<!-- <script src="js/reveal.js"></script> -->
		<!-- <script src="js/highlight.pack.js"></script> -->
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2 class="game-name">Viking's Invasion</h2>
					<p>by</p>
					<p><a href="https://github.com/stvader">Vadim Stalmashonak</a></p>
				</section>
				<section>
					<iframe width="560" height="315" src="https://www.youtube.com/embed/XMN5SCQ6Feg" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>					
					<br>
					<a href="https://stvader.github.io/viking-invasion-game/index.html">Game</a>
				</section>
				<section>
					<h3>Technogies</h3>
					<ul>
						<li>ES2015</li>
						<li>HTML5 Canvas</li>
						<li>Audio API</li>
						<li>Webpack</li>
						<li>Babel</li>
					</ul>
				</section>
				<section>
					<h4>Barier Collisions</h4>
					<img src="img/barier-collision.jpg" alt="barier collision">
				</section>
				<section>
					<h4>Barier Collision Code</h4>
					<pre>
						<code class="javascript">
this.addLengthBariers = 10;

canMove(dir) {
        let result = true;

        const player = this.player.getBorders(); 

        switch(dir) {
            case 'down':                

                this.mapObject.bariersColl.forEach((barier) => {
                    
                    if(player.bottom > barier.top &&
                        player.left < barier.right - this.addLengthBariers &&
                        player.right > barier.left  + this.addLengthBariers &&
                        player.bottom < barier.bottom) {

                        result = false;
                    } 
                });
                break;

            case 'up':                

                this.mapObject.bariersColl.forEach((barier) => {
                    
                     if(player.top < barier.bottom &&
                        player.left < barier.right - this.addLengthBariers &&
                        player.right > barier.left  + this.addLengthBariers &&
                        player.top > barier.top) {

                        result = false;
                    } 
                });
                break;

            case 'left':                

                this.mapObject.bariersColl.forEach((barier) => {
                    
                     if (player.left < barier.right &&
                        player.top < barier.bottom - this.addLengthBariers &&
                        player.bottom > barier.top + this.addLengthBariers &&
                        player.left > barier.left) {

                        result = false;
                    } 
                });
                break;

            case 'right':                

                this.mapObject.bariersColl.forEach((barier) => {
                    
                     if (player.right > barier.left &&
                        player.top < barier.bottom - this.addLengthBariers &&
                        player.bottom > barier.top + this.addLengthBariers &&
                        player.right < barier.right) {

                        result = false;
                    } 
                });
                break;
        }

        return result;
    }

canMove(dir) {
    let result = true;

    const player = this.player.getBorders(); 

    switch(dir) {
        case 'down':
            
            this.mapObject.bariersColl.forEach((barier) => {
                
                if(player.bottom > barier.top &&
                    player.left < barier.right - this.addLengthBariers &&
                    player.right > barier.left  + this.addLengthBariers &&
                    player.bottom < barier.bottom) {

                    result = false;
                } 
            });
            break;

        case 'up':            

            this.mapObject.bariersColl.forEach((barier) => {
                
                 if(player.top < barier.bottom &&
                    player.left < barier.right - this.addLengthBariers &&
                    player.right > barier.left  + this.addLengthBariers &&
                    player.top > barier.top) {

                    result = false;
                } 
            });
            break;

        case 'left':            

            this.mapObject.bariersColl.forEach((barier) => {
                
                 if (player.left < barier.right &&
                    player.top < barier.bottom - this.addLengthBariers &&
                    player.bottom > barier.top + this.addLengthBariers &&
                    player.left > barier.left) {

                    result = false;
                } 
            });
            break;

        case 'right':            

            this.mapObject.bariersColl.forEach((barier) => {
                
                 if (player.right > barier.left &&
                    player.top < barier.bottom - this.addLengthBariers &&
                    player.bottom > barier.top + this.addLengthBariers &&
                    player.right < barier.right) {

                    result = false;
                } 
            });
            break;
    }

    return result;
}
					    </code>
				    </pre>
				</section>
				<section>
					<h5>Go to fight with vikings!</h5>
				</section>


				
			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script>
			Reveal.initialize({
				width: "100%",
				height: "100%",
				margin: 0,
				minScale: 1,
				maxScale: 1,

				dependencies: [
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { 
						hljs.tabReplace = '    ';
						hljs.initHighlightingOnLoad(); 
					} }
				]
			});
		</script>
	</body>
</html>
